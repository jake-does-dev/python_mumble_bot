# Run the following in python

client.clips.clips.create_index(NAME, unique=True)
client.clips.clips.create_index(FILE, unique=True)
client.clips.clips.create_index(IDENTIFIER, unique=True)

client.clips.identifiers.create_index(FILE_PREFIX, unique=True)


## Setting up mongo ##
Get mongo installed on the host
Then, do the following:

-> Create an admin user that can access all databases
> use admin;
> db.createUser({
      user: "admin",
      pwd: "password",
      roles: [
                { role: "userAdminAnyDatabase", db: "admin" },
                { role: "readWriteAnyDatabase", db: "admin" },
                { role: "dbAdminAnyDatabase",   db: "admin" }
             ]
  });

-> Create role for the voice_clips database
> use voice_clips;
> db.createUser({
      user: "python_mumble_bot",
      pwd: "python_mumble_bot",
      roles: [
                { role: "userAdmin", db: "voice_clips" },
                { role: "dbAdmin",   db: "voice_clips" },
                { role: "readWrite", db: "voice_clips" }
             ]
  });

-> Enable MongoDB Auth, by going into /etc/mongod.conf and
1) enabling security authorisation:

security:
    authorization: 'enabled'

2) amending the bindIp to be the static IP assigned to the host
   running mongo

# network interfaces
net:
    port: 27017
    bindIp: X.X.X.X

-> Restart mongo:
sudo service mongod restart

Then, to access:
--> the admin database, do:
    mongo -u admin -p password X.X.X.X/admin

--> the voice_clips database, do:
    mongo -u python_mumble_bot -p password X.X.X.X/voice_clips
